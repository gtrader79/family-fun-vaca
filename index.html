<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFL Head-to-Head Simulator</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
</head>
<body>

    <header class="mobile-header">
        <h1>NFL Sim <span>2025</span></h1>
        <button id="mobile-settings-btn" class="icon-btn">⚙️ Setup</button>
    </header>

    <div class="app-container">
        
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Matchup Config</h2>
                <button id="close-mobile-sidebar" class="close-btn">&times;</button>
            </div>

            <div class="scroll-content">
                <div class="accordion-item active">
                    <button class="accordion-header">
                        <span>1. Team Selection</span>
                        <span class="arrow">▼</span>
                    </button>
                    <div class="accordion-content">
                        <div class="input-group">
                            <label>Season</label>
                            <select id="season-select">
                                <option value="">Select Season</option>                                
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Away Team</label>
                            <select id="team-a-select">
                                <option value="">Select Team...</option>
                                </select>
                        </div>
                        <div class="input-group">
                            <label>Home Team</label>
                            <select id="team-b-select">
                                <option value="">Select Team...</option>
                                </select>
                        </div>
                    </div>
                </div>                
                
                <div class="accordion-item">
                    <button class="accordion-header">
                        <span>2. Situational Factors (Future)</span>
                        <span class="arrow">▼</span>
                    </button>
                    <div class="accordion-content">                        
                        <div class="slider-group">
                            <label>Weather Impact</label>
                            <input type="range" id="weather-select" min="-2" max="0" step="1" value="0">
                            <div class="range-labels">
                                <small>Snow/Very Cold</small><small>Rain/Wind</small><small>Dome/Clear</small>
                            </div>                            
                        </div>
                    </div>
                </div>

                <div class="accordion-item">
                    <button class="accordion-header">
                        <span>3. Momentum & Injuries (Future)</span>
                        <span class="arrow">▼</span>
                    </button>
                    <div class="accordion-content">
                        <div class="slider-group">
                            <label>Away Team Momentum</label>
                            <input type="range" id="momentum-a" min="-2" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Cold</small><small>Neut</small><small>Hot</small>
                            </div>
                        </div>
                        <div class="slider-group">
                            <label>Home Team Momentum</label>
                            <input type="range" id="momentum-b" min="-2" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Cold</small><small>Neut</small><small>Hot</small>
                            </div>
                        </div>
                        <div class="slider-group">
                            <label>Away Key Injuries</label>
                            <input type="range" id="health-a" min="-2" max="0" step="1" value="0">
                            <div class="range-labels">
                                <small>Lots</small><small>Couple</small><small>None</small>
                            </div>
                        </div>
                        <div class="slider-group">
                            <label>Home Key Injuries</label>
                            <input type="range" id="health-b" min="-2" max="0" step="1" value="0">
                            <div class="range-labels">
                                <small>Lots</small><small>Couple</small><small>None</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <button id="reset-btn" class="btn secondary">Reset</button>
                <button id="run-sim-btn" class="btn primary">RUN SIMULATION</button>
            </div>
        </aside>

        <main class="main-content">
            <div class="tabs-nav">
                <button class="tab-btn active" data-tab="ball-drop">Visual Sim</button>
                <button class="tab-btn" data-tab="analytics">Analytics</button>
                <button class="tab-btn" data-tab="matchup">Team Stats</button>
            </div>

            <div id="ball-drop" class="tab-content active">
                <div class="canvas-container" id="matter-container">
                    <div class="placeholder-text">
                        <h3>Simulation Ready</h3>
                        <p>Select teams and click "Run Simulation" to start.</p>
                    </div>
                    </div>
                <div class="sim-overlay-stats">
                    <div id="win-prob-display">Win Prob: --%</div>
                </div>
            </div>

            <div id="analytics" class="tab-content">
                <div class="chart-container">
                    <canvas id="histogramChart"></canvas>
                </div>
                <div class="stats-summary">
                    <div class="stat-card">
                        <h4>Avg Margin</h4>
                        <span id="avg-margin">--</span>
                    </div>
                    <div class="stat-card">
                        <h4>Win %</h4>
                        <span id="win-pct">--</span>
                    </div>
                </div>
            </div>

            <div id="matchup" class="tab-content">
                <div class="table-wrapper">
                    <table class="stats-table">
                        <thead>
                            <tr>
                                <th id="table-header-metrics">Metric</th>
                                <th id="table-header-a">Team A</th>
                                <th id="table-header-b">Team B</th>
                            </tr>
                        </thead>
                        <tbody id="stats-table-body">
                            <tr>
                                <td>Example Metric</td>
                                <td>--</td>
                                <td>--</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <script src="ui.js"></script>
    
    <script src="logic.js"></script>
</body>
</html>
