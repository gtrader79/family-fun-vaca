<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFL Head-to-Head Simulator</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>    
</head>
<body>

    <header class="mobile-header">
        <h1>NFL Sim <span>2025</span></h1>
        <button id="mobile-settings-btn" class="icon-btn">‚öôÔ∏è Setup</button>
    </header>

    <div class="app-container">
        
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Matchup Config</h2>
                <button id="close-mobile-sidebar" class="close-btn">&times;</button>
            </div>

            <div class="scroll-content">
                <div class="accordion-item active">
                    <button class="accordion-header">
                        <span>1. Team Selection</span>
                        <span class="arrow">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="input-group">
                            <label>Season</label>
                            <select id="season-select">
                                <option value="">Select Season</option>                                
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Team A</label>
                            <select id="team-a-select">
                                <option value="">Select Team...</option>                              
                                </select>
                        </div>
                        <div class="input-group">
                            <label>Team B</label>
                            <select id="team-b-select">
                                <option value="">Select Team...</option>
                                </select>
                        </div>
                    </div>
                </div>                
                
                <div class="accordion-item ">
                    <button class="accordion-header">
                        <span>2. Venue & Weather</span>
                        <span class="arrow">‚ñº</span>
                    </button>
                    <div class="accordion-content">                        
                        <div class="slider-group">
                            <label>Home Field Advantage</label>
                            <input type="range" id="hfa-select" min="1" max="3" step="1" value="2">
                            <div class="range-labels">
                                <small id="hfa-teamA">Team A</small><small>Neutral</small><small id="hfa-teamB">Team B</small>
                            </div>                            
                        </div>
                        <div class="slider-group">
                            <label>Winds</label>
                            <input type="range" id="winds-select" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>0-10 mph</small><small>15-20 mph</small><small>25+ mph</small>
                            </div>                            
                        </div>
                        <div class="slider-group">
                            <label>Rain/Snow</label>
                            <input type="range" id="rain-select" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>None</small><small>Rain</small><small>Snow</small>
                            </div>                            
                        </div>
                    </div>
                </div>
                      
                <div class="accordion-item ">
                    <button class="accordion-header">
                        <span>3. Schedule & Fatigue</span>
                        <span class="arrow">‚ñº</span>
                    </button>
                    <div class="accordion-content">                                                
                      <div class="slider-group">
                            <label>West To East Travel</label>
                            <input type="range" id="travel-select" min="1" max="3" step="1" value="2">
                            <div class="range-labels">
                                <small id="travel-teamA">Team A</small><small>Neutral</small><small id="travel-teamB">Team B</small>
                            </div>                            
                        </div>                      
                      <div class="slider-group">
                            <label id="rest-gap-teamA">Rest Gap for Team A</label>
                            <input type="range" id="team-a-rest-select" min="0" max="2" step="1" value="1">
                            <div class="range-labels">
                                <small>Short (4-5 Days)</small><small>Standard (6-8 Days)</small><small>Bye Week (10+)</small>
                            </div>                            
                        </div>
                      <div class="slider-group">
                            <label id="rest-gap-teamB">Rest Gap for Team B</label>
                            <input type="range" id="team-b-rest-select" min="0" max="2" step="1" value="1">
                            <div class="range-labels">
                                <small>Short (4-5 Days)</small><small>Standard (6-8 Days)</small><small>Bye Week (10+)</small>
                            </div>                            
                        </div>
                        <div class="slider-group">
                            <label>Apply Strength of Schedule Adjustment</label>
                            <input type="range" id="sos-select" min="0" max="1" step="1" value="0">
                            <div class="range-labels">
                                <small>No</small><small>Yes</small>
                            </div>                            
                        </div>                        
                    </div>
                </div>

                <div class="accordion-item ">
                    <button class="accordion-header">
                        <span>4. Competitive Factors</span>
                        <span class="arrow">‚ñº</span>
                    </button>
                    <div class="accordion-content">                                                
                        <div class="slider-group">
                            <label>Game Match Up</label>
                            <input type="range" id="game-matchup-select" min="0" max="4" step="1" value="0">
                            <div class="range-labels">
                                <small>Regular</small><small>Wild Card</small><small>Divisional</small><small>Conference</small><small>Super Bowl</small>
                            </div>                            
                        </div>
                        <div class="slider-group">
                            <label>Momentum</label>
                            <input type="range" id="momentum-select" min="0" max="2" step="1" value="1">
                            <div class="range-labels">
                                <small id="momentum-teamA">Team A</small><small>Neutral</small><small id="momentum-teamB">Team B</small>
                            </div>                            
                        </div>                        
                    </div>
                </div>

                                

                <div class="accordion-item">
                    <button class="accordion-header">
                        <span id='accordion-header-team-a'>5. Injury Report: Team A </span>
                        <span class="arrow">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="slider-group">
                            <label>QB</label>
                            <input type="range" id="team-a-qb-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>Questionable</small><small>Out</small>
                            </div>
                        </div>
                        <div class="slider-group">
                            <label>RB</label>
                            <input type="range" id="team-a-rb-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>Questionable</small><small>Out</small>
                            </div>
                        </div>
                      <div class="slider-group">
                            <label>TE</label>
                            <input type="range" id="team-a-te-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>Questionable</small><small>Out</small>
                            </div>
                        </div>
                      <div class="slider-group">
                            <label>WR</label>
                            <input type="range" id="team-a-wr-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>Questionable</small><small>Out</small>
                            </div>
                        </div>
                      <div class="slider-group">
                            <label>Offensive Line</label>
                            <input type="range" id="team-a-olLine-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>1 Out</small><small>3+ Out</small>
                            </div>
                        </div>
                      <div class="slider-group">
                            <label>Defensive Line - Key Players</label>
                            <input type="range" id="team-a-dLine-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>1 Out</small><small>3+ Out</small>
                            </div>
                        </div>
                     <div class="slider-group">
                            <label>Defense Secondary - Key Players</label>
                            <input type="range" id="team-a-dSecondary-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>1 Out</small><small>3+ Out</small>
                            </div>
                        </div>
                    </div>
                </div>
              
              <div class="accordion-item">
                    <button class="accordion-header">
                        <span id='accordion-header-team-b'>6. Injury Report: Team B </span>
                        <span class="arrow">‚ñº</span>
                    </button>
                    <div class="accordion-content">
                        <div class="slider-group">
                            <label>QB</label>
                            <input type="range" id="team-b-qb-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>Questionable</small><small>Out</small>
                            </div>
                        </div>
                        <div class="slider-group">
                            <label>RB</label>
                            <input type="range" id="team-b-rb-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>Questionable</small><small>Out</small>
                            </div>
                        </div>
                      <div class="slider-group">
                            <label>TE</label>
                            <input type="range" id="team-b-te-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>Questionable</small><small>Out</small>
                            </div>
                        </div>
                      <div class="slider-group">
                            <label>WR</label>
                            <input type="range" id="team-b-wr-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>Questionable</small><small>Out</small>
                            </div>
                        </div>
                      <div class="slider-group">
                            <label>Offensive Line</label>
                            <input type="range" id="team-b-olLine-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>1 Out</small><small>3+ Out</small>
                            </div>
                        </div>
                      <div class="slider-group">
                            <label>Defensive Line - Key Players</label>
                            <input type="range" id="team-b-dLine-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>1 Out</small><small>3+ Out</small>
                            </div>
                        </div>
                     <div class="slider-group">
                            <label>Defense Secondary - Key Players</label>
                            <input type="range" id="team-b-dSecondary-injury" min="0" max="2" step="1" value="0">
                            <div class="range-labels">
                                <small>Healthy</small><small>1 Out</small><small>3+ Out</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <button id="reset-btn" class="btn secondary">Reset</button>
                <button id="run-sim-btn" class="btn primary">RUN SIMULATION</button>
            </div>
        </aside>

        <main class="main-content">
            <div class="tabs-nav">
                <button class="tab-btn active" data-tab="ball-drop">Visual Sim</button>
                <button class="tab-btn" data-tab="analytics">Analytics</button>
                <button class="tab-btn" data-tab="matchup">Team Stats</button>
                <button class="tab-btn" data-tab="weatherRpt">Game Day Weather</button>
            </div>

            <div id="ball-drop" class="tab-content active">
                <div class="canvas-container" id="matter-container">
                    <div class="placeholder-text">
                        <h3>Simulation Ready</h3>
                        <p>Select teams and click "Run Simulation" to start.</p>
                    </div>
                    </div>
                <div class="sim-overlay-stats">
                    <div id="win-prob-display">Win Prob: --%</div>
                </div>
            </div>

            <div id="analytics" class="tab-content">                
                <div class="table-wrapper">
                    <table class="stats-table">
                        <thead>
                            <tr>
                                <th id="analytics-header-metrics">Summary Metric</th>
                                <th id="analytics-header-a"></th>
                                <th id="analytics-header-b"></th>
                            </tr>
                        </thead>
                        <tbody id="analytics-stats-table-body">
                            <tr>
                                <td></td>
                                <td>--</td>
                                <td>--</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="matchup" class="tab-content">
                <div class="table-wrapper">
                    <table class="stats-table">
                        <thead>
                            <tr>
                                <th id="table-header-metrics">Metric</th>
                                <th id="table-header-a">Team A</th>
                                <th id="table-header-b">Team B</th>
                            </tr>
                        </thead>
                        <tbody id="matchup-table-body">
                            <tr>
                                <td>Example Metric</td>
                                <td>--</td>
                                <td>--</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div id="weatherRpt" class="tab-content">
                <div class="table-wrapper">
                    <script id='current_week_widget' 
                            type='text/javascript' 
                            language='JavaScript' 
                            data-color='000000' 
                            data-size='500' 
                            data-background='ffffff' 
                            src='https://nflweather.com/widgets/current_week.js'>                        
                    </script>
                </div>
            </div>
            <button id="mobile-run-btn" class="fab-btn">
                <span>RUN SIM</span> üèà
            </button>
            
        </main>
    </div>

    <script src="config.js"></script>    
    <script src="state.js"></script>    
    <script src="utils.js"></script>    
    <script src="inputs.js"></script>    
    <script src="engine.js"></script>    
    <script src="render.js"></script>    
    <script src="visuals.js"></script>    
    <script src="main.js"></script>    

</body>
</html>
